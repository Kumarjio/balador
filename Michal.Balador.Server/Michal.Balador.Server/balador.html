<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script src="Scripts/jquery-1.10.2.min.js"></script>
</head>
<body>
    <div class="jumbotron">
        <h1>ASP.NET2</h1>
        <p class="lead">ASP.NET is a fresssse web framework for building great Web sites and Web applications using HTML, CSS and JavaScript.</p>
        <p><a href="http://asp.net" class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
    </div>
    <form onsubmit="return subscribe()">
        Subscribe to all events <input type="submit" value="submit">
    </form>
    <form onsubmit="return unsubscribe()">
        Unsubscribe from all events <input type="submit" value="submit">
    </form>
    <form onsubmit="return notifymvc()">
        Trigger notification through MVC controller <input type="submit" value="submit">
    </form>
    <form onsubmit="return notifyapi()">
        Trigger notification through Web API controller <input type="submit" value="submit">
    </form>
    <script>   debugger;
        function subscribe() {
            debugger;
            var access_token = "bearer Ew-fbjz6mhI9RCSPEiISzFC1fkNPxV5J2Z77zDoFiaZlL3YQrXnPmv08QaakXc78ABGsuldJhTLRvvwNhrmEu1OoQ0wbaq_9G5XwDRn7s62DeAAZZ0G9yI-vzWWmAyjt1ghfZ1--uKXUAK9K4OznL7lafYKVEnXT_fa-R1VX4BXqnmAbp9VUBSPzb34N3UXTRlEg2lNACwcDui_qT2yX7uesctlqFLd4qJ76We2PgjUo1M4BKe4l9Ol5wcxzYt5I-u_wdG8NkxJcS2PNJX2Zv798Rzu5Phk7KYjeDIlO0IN0sUJRqhERWlic3x4nLo5M2FYPmzF9SFUVGHm2K-soDRLdBnlGxxk9HpNlJncxHbJMEW5TPa-mE_FgYqdTLhG40l1fIfPZ0w4TszvaIon0v6B5XzWxqwji83N4pMINncG9AaWIy-VHqgq8ggxRfLqJ-KwGlmctZEinq2MVgyo0egHUzMEZw0Gdk70CMi_qoJXKCyhpi3umxfyDAT9F_Tv_yA0jKkh_3C0SHAMlE3gJMzP_fwn4DflCtgaKMHWXR_wLSKKtggwywrmYkAMijiJQ";

    $.ajax({
        type: "POST",
        url: "/api/webhooks/registrations",
        data: JSON.stringify({
            WebHookUri: "http://localhost:1910/api/webhooks/incoming/custom",
            Secret: "12345678901234567890123456789012",
            Description: "My first WebHook!"
        }),
        headers: { "Authorization": access_token },
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        success: function(data, status) { alert(data.Message ? data.Message : status); },
        error: function (errMsg) { alert(errMsg.responseJSON.Message); }
    });
    return false;
}

function unsubscribe() {
    $.ajax({
        url: "/api/webhooks/registrations",
        type: 'DELETE',
        success: function (data, status) { alert(data.Message ? data.Message : status); },
        error: function (errMsg) { alert(errMsg.responseJSON.Message); }
    });
    return false;
}

function notifymvc() {
    $.post("/notify/submit",
    { },
    function (data, status) { alert("Data: " + data + "\nStatus: " + status); });
    return false;
}

function notifyapi() {
    $.post("/api/notifyapi",
    { },
    function (data, status) { alert("Data: " + data + "\nStatus: " + status); });
    return false;
}
    </script>
    <div class="row">
        <div class="col-md-4">
            <h2>Getting started</h2>
            <p>
                ASP.NET MVC gives you a powerful, patterns-based way to build dynamic websites that
                enables a clean separation of concerns and gives you full control over markup
                for enjoyable, agile development.
            </p>
            <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301865">Learn more &raquo;</a></p>
        </div>
        <div class="col-md-4">
            <h2>Get more libraries</h2>
            <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
            <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
        </div>
        <div class="col-md-4">
            <h2>Web Hosting</h2>
            <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
            <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
        </div>
    </div>
</body>
</html>